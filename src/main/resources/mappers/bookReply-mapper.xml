<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="bookReplyMapper">

	<insert id="insertOriBookReply">
	insert into origin_reply values(seq_orireplyno.nextval, #{bookNo}, #{memberId}, #{reContents}, default)
	</insert>
	
	<resultMap type="OriginBookReply" id="obReplyResultMap">
	<id property="replyNo" column="REPLY_NO"/>
	<result property="bookNo" column="ORI_BOOK_NO"/>
	<result property="memberId" column="MEMBERID"/>
	<result property="reContents" column="RE_CONTETNS"/>
	<result property="insertDate" column="INSERT_DATE"/>


	</resultMap>
	
	<select id="selectAllOriReply" resultMap="obReplyResultMap">
	select * from origin_reply where ORI_BOOK_NO = #{bookNo}
	</select>
	
	<select id="countOriReply" resultType="_int">
	select count(*) from origin_reply where ORI_BOOK_NO = #{bookNo}
	</select>
	
	<select id="selectOneOriBookReply" resultType="string">
	select RE_CONTETNS from origin_reply where REPLY_NO= #{rNo}
	</select>
	
	<select id="selectOneReplyMember" resultType="string">
	select MEMBERID from origin_reply where REPLY_NO= #{rNo}
	</select>
	
	<update id="updateOriReply">
	update origin_reply set RE_CONTETNS = #{reContents} where REPLY_NO= #{replyNo}
	</update>
</mapper>